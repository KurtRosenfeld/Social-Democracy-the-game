<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Germany 1890-1920 | SPD Simulator</title>
    <link rel="stylesheet" href="game.css">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- REMOVED: js-yaml library (no longer needed) -->
</head>
<body>
    <!-- HEADER -->
    <header id="game-header">
        <div class="header-left">
            <h1 id="game-title">Germany 1890-1920</h1>
            <p id="game-subtitle">SPD Political Simulator</p>
        </div>
        <div class="header-center">
            <div id="date-display">
                <span id="current-date">August 1890</span>
                <div id="date-progress">
                    <div id="date-progress-bar"></div>
                </div>
            </div>
        </div>
        <div class="header-right">
            <button class="header-btn" onclick="alert('Save feature coming soon')">
                <i class="fas fa-save"></i> Save
            </button>
            <button class="header-btn" onclick="alert('Load feature coming soon')">
                <i class="fas fa-folder-open"></i> Load
            </button>
            <button class="header-btn" id="toggle-map-btn" title="Toggle map view">
                <i class="fas fa-map"></i> Map
            </button>
        </div>
    </header>

    <!-- MAIN GAME AREA -->
    <main id="game-main">
        <!-- LEFT SIDEBAR: Quick Stats -->
        <aside id="sidebar-left">
            <div class="stat-box">
                <h3><i class="fas fa-chart-line"></i> Party Status</h3>
                <div class="stat">
                    <span class="stat-label">Members:</span>
                    <span class="stat-value" id="stat-members">100,000</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Reichstag Seats:</span>
                    <span class="stat-value" id="stat-seats">35</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Funds:</span>
                    <span class="stat-value" id="stat-funds">20</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Budget:</span>
                    <span class="stat-value" id="stat-budget">27</span>
                </div>
            </div>
            
            <div class="stat-box">
                <h3><i class="fas fa-history"></i> Timeline</h3>
                <div class="timeline">
                    <div class="timeline-item current">
                        <div class="timeline-date">1890</div>
                        <div class="timeline-event">Anti-Socialist Laws lifted</div>
                    </div>
                    <div class="timeline-item future">
                        <div class="timeline-date">1914</div>
                        <div class="timeline-event">World War I begins</div>
                    </div>
                    <div class="timeline-item future">
                        <div class="timeline-date">1918</div>
                        <div class="timeline-event">German Revolution</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- CENTER: Main Event/Decision Area -->
        <section id="main-scene">
            <div id="event-container">
                <h2 id="event-title">Event Title Goes Here</h2>
                <div id="event-date">Date Here</div>
                
                <div id="event-content">
                    <p>Event description text goes here. This is where historical events and decisions appear.</p>
                    <p>Add your narrative text here.</p>
                </div>

                <div id="event-choices">
                    <h3>Your Decision:</h3>
                    <div class="choice-placeholder" id="choice-placeholder">
                        <p><i>Decision buttons will appear here</i></p>
                    </div>
                    <div id="choices-container"></div>
                </div>
            </div>
            
            <!-- Map container (hidden by default) -->
            <div id="map-container" style="display: none; height: 100%;">
                <div class="map-placeholder" style="text-align: center; padding: 60px 20px; color: #888;">
                    <i class="fas fa-map-marked-alt fa-3x" style="margin-bottom: 20px; opacity: 0.3;"></i>
                    <h3>Interactive Map</h3>
                    <p>Load JSON map data to display German states or electoral districts.</p>
                    <div style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.1); border-radius: 5px;">
                        <p><small>Map data placeholder for future JSON integration</small></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- RIGHT SIDEBAR: Tabs Navigation -->
        <aside id="sidebar-right">
            <nav id="tab-nav">
                <button class="tab-btn active" data-tab="main">
                    <i class="fas fa-home"></i> Main
                </button>
                <button class="tab-btn" data-tab="government">
                    <i class="fas fa-landmark"></i> Government
                </button>
                <button class="tab-btn" data-tab="party">
                    <i class="fas fa-users"></i> Party
                </button>
                <button class="tab-btn" data-tab="status">
                    <i class="fas fa-chart-bar"></i> Status
                </button>
                <button class="tab-btn" data-tab="politics">
                    <i class="fas fa-handshake"></i> Politics
                </button>
                <button class="tab-btn" data-tab="map">
                    <i class="fas fa-map"></i> Map
                </button>
            </nav>

            <div id="tab-content">
                <div class="tab-pane active" id="tab-main">
                    <h3>Main Game Controls</h3>
                    <p>This area shows information about the current game state.</p>
                    <p>Use the buttons above to navigate to different game sections.</p>
                </div>

                <div class="tab-pane" id="tab-government">
                    <h3>Government & Reichstag</h3>
                    <p>Reichstag seat visualization and government actions will appear here.</p>
                    <div class="placeholder">
                        <p><i class="fas fa-chart-pie fa-2x"></i></p>
                        <p>Government features coming soon</p>
                    </div>
                </div>

                <div class="tab-pane" id="tab-party">
                    <h3>Party Management</h3>
                    <div class="faction-display" style="margin: 15px 0;">
                        <div style="display: flex; height: 30px; border-radius: 4px; overflow: hidden; margin-bottom: 10px;">
                            <div class="faction-radical" style="width: 45%; background: #e63946; color: white; display: flex; align-items: center; padding-left: 10px; font-weight: bold;">
                                Radicals: 45%
                            </div>
                            <div class="faction-moderate" style="width: 55%; background: #457b9d; color: white; display: flex; align-items: center; padding-left: 10px; font-weight: bold;">
                                Moderates: 55%
                            </div>
                        </div>
                    </div>
                    <p>Party leadership, advisors, and faction management will appear here.</p>
                    <div class="placeholder">
                        <p><i class="fas fa-user-tie fa-2x"></i></p>
                        <p>Party management features coming soon</p>
                    </div>
                </div>

                <div class="tab-pane" id="tab-status">
                    <h3>Status Overview</h3>
                    <p>Game statistics, trends, and timeline will appear here.</p>
                    <div class="placeholder">
                        <p><i class="fas fa-chart-line fa-2x"></i></p>
                        <p>Status features coming soon</p>
                    </div>
                </div>

                <div class="tab-pane" id="tab-politics">
                    <h3>Politics & Relations</h3>
                    <p>Party relations and public opinion will appear here.</p>
                    <div class="placeholder">
                        <p><i class="fas fa-handshake fa-2x"></i></p>
                        <p>Politics features coming soon</p>
                    </div>
                </div>
                
                <div class="tab-pane" id="tab-map">
                    <h3><i class="fas fa-map"></i> Map Controls</h3>
                    <p>Control map display and load JSON map data.</p>
                    
                    <div class="map-controls" style="margin: 15px 0;">
                        <button class="map-control-btn" id="inline-map-toggle" style="width: 100%; margin-bottom: 10px;">
                            <i class="fas fa-eye"></i> Toggle Map View
                        </button>
                        
                        <div style="margin: 15px 0; padding: 10px; background: rgba(0,0,0,0.1); border-radius: 5px;">
                            <h4>Map Data</h4>
                            <p><small>Load JSON map files for:</small></p>
                            <ul style="font-size: 0.9rem; color: #aaa;">
                                <li>German States (1890 borders)</li>
                                <li>Reichstag electoral districts</li>
                                <li>Party support by region</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <!-- FOOTER -->
    <footer id="game-footer">
        <div class="footer-left">
            <span id="current-event-display">Current: No event</span>
        </div>
        <div class="footer-center">
            <button id="next-turn-btn" class="primary-btn">
                <i class="fas fa-forward"></i> Advance Time
            </button>
        </div>
        <div class="footer-right">
            <span id="game-version">v0.1.0 | Development Build</span>
        </div>
    </footer>

    <!-- GAME JAVASCRIPT -->
    <script src="game.js"></script>
    
    <!-- Minimal inline script - just connect the map button in tab -->
    <script>
        // Connect the map toggle button in the Map tab
        document.addEventListener('DOMContentLoaded', function() {
            const inlineMapBtn = document.getElementById('inline-map-toggle');
            if (inlineMapBtn) {
                inlineMapBtn.addEventListener('click', function() {
                    // Trigger the map toggle from game.js
                    const mapToggleBtn = document.getElementById('toggle-map-btn');
                    if (mapToggleBtn) {
                        mapToggleBtn.click();
                    }
                });
            }
            
            // Update progress bar helper function (called from game.js)
            window.updateYearProgress = function(year) {
                // 1890-1920 = 30 years
                const progress = ((year - 1890) / 30) * 100;
                const progressBar = document.getElementById('date-progress-bar');
                if (progressBar) {
                    progressBar.style.width = Math.min(Math.max(progress, 0), 100) + '%';
                }
            };
        });
    </script>
</body>
</html>
